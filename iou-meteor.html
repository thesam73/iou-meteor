<head>
  <title>IOU</title>
  <meta name="viewport" content="initial-scale=1.0" />
  <link rel="stylesheet" href="/css/font-outline.css">
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:300,400,700' rel='stylesheet' type='text/css'>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="/js/Chart.js"></script>
</head>

<body>
	<div id="tabs" class="tabs">
	 	{{> navmenu}}
    <div class="content">

	  <section id="section__add" class="submit current">
	  	<div class="submit__form">
	  		{{> entryfield}}
	  	</div>
	  	<div class="action">
	  	<div class="action__block">
	  		{{> action}}
	  	</div>
	  </section>

	  <section id="section__current" class="summary">
	  	<div class="summary__block">
	  		{{> summary}}
	  	</div>
	  </section>

	  <section id="section__stats" class="depenses">
	  	<div class="depenses__block">
	  		{{> depenses}}
	  	</div>
	  </section>

	 </div>
	</div>
</body>

<template name="navmenu">
	<nav>
        <ul>
            <li id="btn__add" class="tab-current"><a class="btn__add icon-plus"><span>Add</span></a></li>
            <li id="btn__current"><a class="icon-graph"><span>Current</span></a></li>
            <li id="btn__stats"><a class="icon-todolist"><span>Stats</span></a></li>
        </ul>
    </nav>
</template>

<template name="entryfield">
	<form id="new_entry">
		<div class="submit__form__row">
			<input class="input__amount" type="number" id="amount" placeholder="$"/>
			<select class="select__category" id="category" name="category" >
			  <option value="rent">Rent</option>
			  <option value="bills">Bills</option>
			  <option value="food">Food</option>
			  <option value="shopping">Shopping</option>
			  <option value="activity">Activity</option>
			  <option value="car">Car</option>
			</select>
			<select class="select__payeur" id="payeur" name="payeur" >
			  <option value="marion">Marion</option>
			  <option value="sam">Sam</option>
			  <option value="both">Both</option>
			</select>
			<input class="input__date" type="date" id="timestamp">
		</div>
		<div class="submit__form__row">
			<a id="submit" class="btn" href="#">Submit</a>
		</div>
	</form>
</template>

<template name="depenses">
	<table class="depenses__table">
	<tr>
	  <th>Amount</th>
	  <th>Category</th> 
	  <th>Date</th>
	  <th>X</th>
	</tr>
	{{#each depenses}}
	<tr>
		<td>$ {{amount}}</td>
		<td>{{category}}</td>
		<td>{{timestamp}}</td>
		<td><button type="button" class="btn remove">X</button></td>
	</tr>
	{{/each}}
	</table>
</template>



<template name="action">
	<a id="updatedebt" class="btn">
		<h2>{{nameDebt}}</h2>
		<span class="action--amount money">$ {{amountDebt}}</span>
	</a>
</template>

<template name="summary">
<div class="chartdonut">
	<canvas id="myChart" width="180px" height="180px"></canvas>
</div>
<!-- <canvas id="pieChart" width="400" height="400"></canvas>

  <div class="d3board" height="150px" width="600px">
    <svg id="d3vis"></svg>
  </div>
  	<span class="summary__bar class__rent" style="width: {{rentratio}}%"></span><span class="summary__bar class__bills" style="width: {{billsratio}}%"></span><span class="summary__bar class__food" style="width: {{foodratio}}%"></span><span class="summary__bar class__shopping" style="width: {{shoppingratio}}%"></span><span class="summary__bar class__activity" style="width: {{activityratio}}%"></span><span class="summary__bar class__car" style="width: {{carratio}}%"></span>
  	 -->


	<table class="summary__table">
	<tr class="table__total">
		<td class="icon-list">Total: </td>
		<td>$ {{totalAmount}}</td>
	</tr>
	<tr class="table__rent">
		<td class="icon-home">Rent: </td>
		<td>$ {{rentAmount}}</td>
	</tr>
	<tr class="table__bills">
		<td class="icon-setting-1">Bills: </td>
		<td>$ {{billsAmount}}</td>
	</tr>
	<tr class="table__food">
		<td class="icon-fast-food">Food: </td>
		<td>$ {{foodAmount}}</td>
	</tr>
	<tr class="table__shopping">
		<td class="icon-shopping-cart">Shopping: </td>
		<td>$ {{shoppingAmount}}</td>
	</tr>
	<tr class="table__activity">
		<td class="icon-ticket">Activity: </td>
		<td>$ {{activityAmount}}</td>
	</tr>
	<tr class="table__car">
		<td class="icon-boat">Car: </td>
		<td>$ {{carAmount}}</td>
	</tr>
	</table>
</template>

<template name="entrydetail">
 {{#if isVisible}}
 <form class="form-inline" id="update_entry">
		<input type="text" id="update_amount" placeholder="Amout"/>{{update_amount}}
		<input type="text" id="update_category" placeholder="Category"/>
		<input type="checkbox" id="update_sam" name="sam" value="Sam">Sam
		<input type="checkbox" id="update_marion" name="marion" value="Marion">Marion
		<button type="button" id="update_submit" class="btn">Update</button>
		<button type="button" id="update_remove" class="btn">Remove</button>
</form>
 {{/if}}
</template>